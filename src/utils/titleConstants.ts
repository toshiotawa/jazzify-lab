/**
 * 称号システムの定数定義
 * 新しい称号は10の倍数で解放される
 */

export const TITLES = [
  '音の深淵を覗きし者',           // レベル0 (デフォルト)
  '終わりなき旋律を紡ぐ者',       // レベル10
  '孤独な夜に響きし者',           // レベル20
  '魂のブルースを奏でし者',       // レベル30
  '禁じられた和音に触れし者',     // レベル40
  'アドリブの迷宮を彷徨う者',     // レベル50
  '忘れ去られし旋律の継承者',     // レベル60
  '月の光とセッションせし者',     // レベル70
  'リズムの奔流に身を委ねし者',   // レベル80
  '都会の喧騒を喰らう者',         // レベル90
  '漆黒のグルーヴを統べし者',     // レベル100
  '刹那の音に全てを懸けし者',     // レベル110
  '時間の概念を超えし者',         // レベル120
  '沈黙の意味を知る者',           // レベル130
  '星屑の譜面を読みし者',         // レベル140
  '憂鬱さえも支配せし者',         // レベル150
  'スウィングに魂を売った者',     // レベル160
  '伝説の夜を目撃せし者',         // レベル170
  '幻のコードを探す者',           // レベル180
  '夜明けのコーヒーを嗜む者',     // レベル190
  '音速の求道者',                 // レベル200
  '旋律の探求者',                 // レベル210
  '孤高の演奏家',                 // レベル220
  '即興の思想家',                 // レベル230
  '無限音階',                     // レベル240
  '絶対感覚',                     // レベル250
  '漆黒の旋律',                   // レベル260
  '月下の独奏者',                 // レベル270
  '摩天楼の吟遊詩人',             // レベル280
  '彷徨える調律師',               // レベル290
  '音色の錬金術師',               // レベル300
  '静寂の支配者',                 // レベル310
  '永遠の練習生',                 // レベル320
  'リズムの破壊神',               // レベル330
  '和音の創造主',                 // レベル340
  '伝説の目撃者',                 // レベル350
  '裏通りの賢者',                 // レベル360
  '譜面の解読者',                 // レベル370
  '終焉の序曲',                   // レベル380
  '混沌の調和',                   // レベル390
  'ブルーノートの亡霊',           // レベル400
  'スウィングの伝道師',           // レベル410
  'ビバップの革命家',             // レベル420
  'アドリブの魔術師',             // レベル430
  'グルーヴの探求者',             // レベル440
  'セッションの夜叉',             // レベル450
  'モードの開拓者',               // レベル460
  'リズムの預言者',               // レベル470
  'コードの錬金術師',             // レベル480
  'インプロの鬼神',               // レベル490
  'ジャムセッションの支配者',     // レベル500
  'フリージャズの破壊者',         // レベル510
  'クールな放浪者',               // レベル520
  'ホットな挑戦者',               // レベル530
  'マイナーコードの使徒',         // レベル540
  'テンションノートの誘惑',       // レベル550
  'ウォーキングベースの旅人',     // レベル560
  'ラストコーラスの伝説',         // レベル570
  'オルタードの奇術師',           // レベル580
  'スキャットの詠唱者',           // レベル590
  '月夜に咲く旋律',               // レベル600
  '孤独という名の音色',           // レベル610
  '摩天楼のララバイ',             // レベル620
  '真夜中の太陽',                 // レベル630
  '琥珀色のスウィング',           // レベル640
  '星屑のスタンダード',           // レベル650
  '紫煙の向こう側',               // レベル660
  '錆びついた心象',               // レベル670
  '地下室の囁き',                 // レベル680
  '雨音のブルース',               // レベル690
  '都会のノクターン',             // レベル700
  '魂のシャウト',                 // レベル710
  '刹那の火花',                   // レベル720
  '氷上のワルツ',                 // レベル730
  '迷宮のアドリブ',               // レベル740
  '銀河鉄道の夜想曲',             // レベル750
  '忘れられた子守唄',             // レベル760
  '煉瓦通りのエチュード',         // レベル770
  'グラスの中の嵐',               // レベル780
  '眠らない街の賛歌',             // レベル790
  '旋律の設計者',                 // レベル800
  'リズムセクションの司令塔',     // レベル810
  '和音の暗殺者',                 // レベル820
  'グルーヴの番人',               // レベル830
  '静寂の指揮官',                 // レベル840
  '音色の仕立屋',                 // レベル850
  '即興劇の脚本家',               // レベル860
  '譜面の考古学者',               // レベル870
  'サウンドの心臓外科医',         // レベル880
  'ブルースの伝承者',             // レベル890
  '憂鬱を纏う者',                 // レベル900
  '刹那主義のインプロバイザー',   // レベル910
  '無限への挑戦者',               // レベル920
  '感情の調律師',                 // レベル930
  '存在証明のソロ',               // レベル940
  '星降る夜のカルテット',         // レベル950
  '銀河を渡るベーシスト',         // レベル960
  '嵐を呼ぶドラマー',             // レベル970
  'オーロラのスキャット',         // レベル980
  '月影のピアニスト',             // レベル990
  '無窮の創造主',                 // レベル1000
  '世界線の移動者',               // レベル1010
  '裏拍の支配者',                 // レベル1020
  '代理和音の魔術師',             // レベル1030
  '憂鬱音階の継承者',             // レベル1040
  '高次倍音の解放者',             // レベル1050
  '半音階の旅人',                 // レベル1060
  '躍動的律動の体現者',           // レベル1070
  '複合拍子の解読者',             // レベル1080
  '音響空間の設計士',             // レベル1090
  '瞬間芸術の体現者',             // レベル1100
  '主題旋律の破壊者',             // レベル1110
  '緊張和音の愛好家',             // レベル1120
  '循環和音の輪廻',               // レベル1130
  '自由即興の使徒',               // レベル1140
  '電気音響の預言者',             // レベル1150
  '低音進行の先導者',             // レベル1160
  '打楽奏法の探求者',             // レベル1170
  '音列の再構築者',               // レベル1180
  '最終終止の超越者',             // レベル1190
  '静かなる情熱',                 // レベル1200
  '秩序ある混沌',                 // レベル1210
  '聖なる背徳',                   // レベル1220
  '饒舌な沈黙',                   // レベル1230
  '孤独な共演者',                 // レベル1240
  '束縛された自由',               // レベル1250
  '冷徹な熱狂',                   // レベル1260
  '現実的な幻想',                 // レベル1270
  '調和した不協和音',             // レベル1280
  '過去から来た未来人',           // レベル1290
  '癒やしのブルース',             // レベル1300
  '絶望の中の希望',               // レベル1310
  '歓喜のレクイエム',             // レベル1320
  '白い夜、黒い太陽',             // レベル1330
  '甘美なる毒',                   // レベル1340
  '立ち止まる進行',               // レベル1350
  '無音の叫び',                   // レベル1360
  '予定調和の破壊者',             // レベル1370
  '優しい悪魔',                   // レベル1380
  '賢明なる異端者',               // レベル1390
  '音霊使い',                     // レベル1400
  '和声の魔導書',                 // レベル1410
  '旋律召喚士',                   // レベル1420
  '時空を歪めるビート',           // レベル1430
  '禁断の第十三和音',             // レベル1440
  '霊魂を揺さぶる者',             // レベル1450
  '絶対音感の呪縛',               // レベル1460
  'グルーヴの錬成陣',             // レベル1470
  '異世界の扉を開く鍵盤',         // レベル1480
  '音の結界を張る者',             // レベル1490
  '闇を払うトランペット',         // レベル1500
  '精霊と踊るサックス',           // レベル1510
  '大地を鳴動させる低音',         // レベル1520
  '雷鳴を呼ぶドラムソロ',         // レベル1530
  '記憶を操作する旋律',           // レベル1540
  '譜面の暗号術師',               // レベル1550
  '残響の支配者',                 // レベル1560
  '音速の拳（高速フレーズ）',     // レベル1570
  'コードの黒魔術',               // レベル1580
  'ビブラートの波動使い',         // レベル1590
  'バードの再来',                 // レベル1600
  '52番街の亡霊',                 // レベル1610
  'ニューオリンズの語り部',       // レベル1620
  'ミントンズの亡命者',           // レベル1630
  'ヴィレッジの守護者',           // レベル1640
  '帝王の影を追う者',             // レベル1650
  '聖者の行進を止めし者',         // レベル1660
  'コットンクラブの招待客',       // レベル1670
  '失われた名盤の探索者',         // レベル1680
  '革命前夜の証人',               // レベル1690
  '群青のビート',                 // レベル1700
  '緋色のアルペジオ',             // レベル1710
  '棘のある音色',                 // レベル1720
  '琥珀色の残響',                 // レベル1730
  '漆黒のグルーヴ',               // レベル1740
  '銀色のサックス奏者',           // レベル1750
  'セピア色の追憶',               // レベル1760
  '極彩色の不協和音',             // レベル1770
  '透明なリズム',                 // レベル1780
  '灼熱のシャウト',               // レベル1790
  '神に見捨てられた旋律',         // レベル1800
  '終末を告げるシンバル',         // レベル1810
  '煉獄のピアニスト',             // レベル1820
  '虚無と踊る者',                 // レベル1830
  '因果律を超えたセッション',     // レベル1840
  '堕天使のセレナーデ',           // レベル1850
  '音の絶対君主',                 // レベル1860
  '裏切りのコード進行',           // レベル1870
  '隻眼のバンドマスター',         // レベル1880
  '刻印されしリズム',             // レベル1890
  '闇夜の烏',                     // レベル1900
  '血塗られたリード',             // レベル1910
  '忘却の彼方のスタンダード',     // レベル1920
  'エデンの追放者',               // レベル1930
  '第七感の覚醒者',               // レベル1940
  '運命の調律師',                 // レベル1950
  '音に選ばれし者',               // レベル1960
  '零度の情熱',                   // レベル1970
  '異端審問官',                   // レベル1980
  '最後の即興詩人',               // レベル1990
] as const;

export type Title = typeof TITLES[number];

/**
 * レベルから利用可能な称号のインデックスを取得
 * @param level ユーザーのレベル
 * @returns 利用可能な称号のインデックス配列
 */
export const getAvailableTitleIndices = (level: number): number[] => {
  const indices: number[] = [];
  
  // レベル0から始まって、10の倍数で新しい称号が解放される
  for (let i = 0; i <= Math.floor(level / 10) && i < TITLES.length; i++) {
    indices.push(i);
  }
  
  return indices;
};

/**
 * レベルから利用可能な称号リストを取得
 * @param level ユーザーのレベル
 * @returns 利用可能な称号の配列
 */
export const getAvailableTitles = (level: number): Title[] => {
  const indices = getAvailableTitleIndices(level);
  return indices.map(index => TITLES[index]);
};

/**
 * 称号名から称号インデックスを取得
 * @param title 称号名
 * @returns 称号のインデックス、見つからない場合は-1
 */
export const getTitleIndex = (title: Title): number => {
  return TITLES.indexOf(title);
};

/**
 * 称号インデックスから称号名を取得
 * @param index 称号インデックス
 * @returns 称号名、無効なインデックスの場合はデフォルト称号
 */
export const getTitleByIndex = (index: number): Title => {
  return TITLES[index] || TITLES[0];
};

/**
 * 称号が解放されるレベルを取得
 * @param titleIndex 称号インデックス
 * @returns 解放レベル
 */
export const getTitleUnlockLevel = (titleIndex: number): number => {
  return titleIndex * 10;
};

/**
 * デフォルト称号
 */
export const DEFAULT_TITLE: Title = TITLES[0]; 